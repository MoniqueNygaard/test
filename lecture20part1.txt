what happened to my projector here a good oh all right yeah had a few technical issues starting up okay so uh today is going to be short and sweet so we'll end before the festivities begin so uh today we're going to talk about the NP completeness of some graph theoretic problems so so far we've seen uh this problem called the satisfiability problem and we've shown that it's NP complete right but the satisfiability problem is it's a fairly natural problem but it doesn't capture all the things we want to solve so in particular we want to solve computational problems or graphs and things like that so uh so this time what we're going to see is we go we're going to see how to reduce uh the problem the NP hard problems we've already seen namely a three set we're going to show how to reduce it to various graph theoretic problems and show that they are hard to solve show that they are NP hard okay and it will be easy to see that these problems are in NP as well so they can with the fact that they're NP hard these problems will turn out to be NP complete okay and this is going to be uh it's going to be fairly easy this time round but it's a very important kind of paradigm shift at least in the way uh that you should think about these things because it shows you uh how uh problems that seem to have nothing to do with computation or circuits or formulas can nevertheless encode uh these these kinds of problems so we'll show how to encode uh the three sat problem for instance in a problem about graphs and this is kind of a prototype of how to encode uh your favorite I'm sorry a three set of your some NP hard problem in terms of your favorite NP complete problem that in terms of your favorite problem that you want to show to be NP complete and we will show in particular how to model things like Boolean variables as graph theoretic objects and how to model satisfying assignments to Boolean formulas as again graph theoretic objects in some way and this is a prototype for how to show that other problems that you might be interested in are also NP complete okay so in that sense it's an important uh kind of lecture all right so so let's start with the problems that will be considered way considering it today so these are three very very natural problems to do with graphs okay and so let me illustrate these problems by example so let me do it on this side maybe so I have a graph G and just to recall a graph so in this case we're going to talk about undirected graphs so it's just a set of vertices and a set of edges so let me draw an example graph here so let me start with the graph with six vertices so let's give these vertices names one two three four five and six and let's put some edges in between them so put some edges in between these vertices okay and that's my graph right so we're going to be talking about independent sets uh cliques and vertex covers in graphs okay and all of these are fairly natural Concepts which you may or may not have seen in a previous course have you seen these things independent sets vertex covers clicks okay I don't see any nodes or not too many so let's go through it so they're very simple so what's an independent set in a graph and independent set is just a set of vertices so I have six vertices here so it's a subset of these six vertices that have no edges between them okay so you could imagine that these are people right let's say I don't know a bunch of Facebook accounts and then I put an edge between two Facebook accounts if they're friends of each other and an independent set is a collection of accounts that don't know each other they're not friends with each other so so what are some examples of independent sets here well I could always take something stupid I could take the empty set right so this is no vertices at all and that's always an independent set in any graph because there are no edges among vertices in the set because there are no vertices in this Center I could also take any set of size one you know so I could take just a Vertex at 4 for instance that's an independent set because again there are no vertices amongst I'm sorry there are no edges among vertices in this set okay but I can also do something more interesting here so I can take the set 2 4 6. and that's an independent set because now when I look at the vertices 2 4 and 6 there are no edges between them so that's an independence okay these are examples of independent sets so here's a non-example so a non-example would be something like 3 4 and 6. so that's not an example because you have an edge between three and four here so this is not an independence okay so if you have any Edge between the vertices in your set then that's not an independent set if you have no edges that's an independence it makes sense okay so that's an independent set and now Associated to this graph theoretic notion there is a there is an optimization problem which is to find the largest independent set in a graph okay so the largest independent segment graph right so it's not very interesting to find small independent sets I can always take the empty set that's a very small independent set so the interesting problem here is to find as large a subset of vertices as possible that's independent okay so that's the optimization problem and so we're going to talk about this optimization problem but instead of talking about the optimization problem recall that we our theory is sort of set up to handle decision problems so we're going to talk about the decision version of this optimization problem so what's the decision version going to be so let me just say inset here so it's going to be a set of pairs I've given a graph and a parameter k such that the graph has an independent set of size at least k okay so the graph has an independent set of sides at least so that's the associated decision problem its pairs G and K so G has an independent set of cyclically scheme yeah and it should be a reasonably simple first of all it's I hope it's reasonably clear that this is the decision version of the optimization problem the way we defined it some time ago right so anytime you have an optimization optimization problem you can convert it to a decision Problem by asking is the optimal value at least this or at most this depending on whether it's a maximization problem or a minimization problem in this case the maximization problem so we Define it this way okay so second thing I want to claim that it's it should be reasonably clear that this problem is in NP it's an NP because if somebody wanted to prove to me that this graph is an independent set of size at least K they could just give me the set right they could give me the claim to dependent set and I could check that it is indeed an independent set of size at least okay just go through the vertices check that there are no edges between them and check that it's a set of size at least K so that's something I can do efficiently and therefore this problem has an efficient verification procedure putting it in NP okay so this is an example of a prominent NP all right does it make sense this is the kind of the first problem that we'll be studying today and two very related problems to this are The Clique problem and the vertex cover problem so let me Define clicks now so the sort of the the opposite of independent sets right so uh an independent set is a set of vertices such that no pair of vertices in that set is connected right a click is a set of vertices such that all the vertices in that set are connected so it's the opposite of an independency so what's a clique in this graph so again I can always take an empty set that's always a click there's no vertices in the graph in the set so of course all the vertices in the set are connected sort of in a stupid way you can also again take a set of size one that is also a click because again if you take any two vertices in the set they must be connected you can't choose two vertices on this side so this it is a click but a more interesting example in this case is the set one two three that's a click right because you have a a triangle here and that's uh connected so that's a click right and a somewhat interesting non-example is again the set three four six right so that's set three four six is not a click because the set the vertices three and six are not connected to each other so that's not a click here so this is a non example okay so again ah so clicks are opposites of independent sets so it's a collect if you think again of the example of the Facebook graphs there's a set of accounts that are all friends with each other yeah every pair of them is printed one another again there is the associated decision problem so again you have click and you want to find the largest possible click because it's again very easy to find small clicks so the associated decision problem is a pair G and cases that g has a click of size at least k at least K of these vertices that are not connected to each other and for the same reasons right it's very analogous to the independent set this problem is in NP because you could just give me a set of vertices and I could check that it's a click of size scheme same reason so independent set and click very closely related problems we'll show that they reduce to each other in fairly simple ways and so that's two of them so the third problem is vertex cover and it's kind of very related to Independent set but it may perhaps not as obvious away so what's a vertex cover ah in the graph so it's again a set of vertices in the graph okay so set of vertices in the graph such that every Edge for every Edge you pick at least one of its end points into the vertex cover okay so every Edge contains at least one of its end points on the side all right so again let's do this by example so for instance I could take the set of all the vertices okay the set of all the vertices and this would be a Vertex cover because given any Edge at least one of its endpoints is in this set right in fact in this case both the end points and the set so it's not very interesting but it is a vertex cover because at least for every Edge at least one of its endpoints is in this set and that's what makes a robotic okay so it's very easy in this case to choose large vertex covers you could just take all the vertices in the graph but what's interesting is to choose smaller vertex colors so let's try to find a small subset of vertices which has this property and here's a somewhat interesting example so 1 3 5. okay so if you look at the set of vertices one three and five so that's uh this one this one this one this is a vertex cover because every Edge has at least one end point in this set maybe not both its end points but at least one of them okay so there's no no edges at both of its endpoints are outside the set ok so this is an example so again a non-example would be ah you know let's say let's take for instance 2 4 6 that's a non-example and the reason 246 is a non-example is that if you look at this Edge The Edge between one and three neither of its endpoints is in the set two four six so that's not a Vertex cup so that is the vertex cover problem and so let me just denote it VC so the computational problem is you have pairs G comma k and this time you want to find you the yes instances are those things that have a Vertex cover of size at most k so in this case what's interesting is to find the smallest possible vertex cover so the optimization problem is a minimization problem so when you convert it to a decision problem you put the inequality in the opposite direction so is there a solution that's at most so big is there a Vertex cover of size at most k all right and again for the third time this problem is again in NP because you could just give me a candidate solution and I could verify that it is a valid solution okay so all of these three problems are interesting graph theoretic problems that show up in very very natural contexts right so for example for independent sets you could imagine that you have a collection of jobs or something and you put an edge between a pair of jobs if there's some sort of conflict between them and if you want to find an independent side sort of corresponds to a collection of jobs that don't have a conflict between them so it sort of crops up very naturally in many scenarios and same with clicks and vertex covers so the Fairly natural computational problems and what we want to do is we want to understand uh how hard these things have to solve and we'll show that all three of them are NP hard and we've just shown that all of them are in NP so all of them are NP complete so let's go ahead and do that so I'll start by simply showing that both independent sets reduce to both cliques and vertex covered okay so independent set is at most as hard as click and vertex cover and then we'll show the independent set is NP hard implying that the other two are NP hired as well okay and all of these reductions are fairly uh easy so let's see so independent set reduces to click ok and so this this reduction is extremely simple so ah the observation is the following so it's because clicks and Independence set sort of opposites of each other right so an independent set of set of vertices with no edges a click is a set of vertices with all possible edges okay and so you can kind of convert from one to the other by sort of reversing the set of edges in the graph sort of flipping the edges so let me Define for any given graph let me Define the complement of the graph so complement of the graph is the same set of vertices but you kind of flip the edges so let me just say e complement here yeah and let's do it as a do it by example so I'll have the same set of vertices that I have in this graph I have one two three four five and six but I flip all the edges right so in this case one is connected in that graph one is connected to two three and six so in this graph it's going to be connected to exactly the opposite side so I guess four and five yeah and similarly two is connected to one and three so this place is connected to four five five six three is connected I guess to six five four is connected to some things that we connected it already but also to six and that's the whole graph okay so this is the complement of the graph the edges in this graph are exactly those things which are not the edges in the other graph okay and you could see now that an independent side so for instance the independence said two four six that we marked out here turns into a clique here because of course all of these those were not edges before in their edges now and conversely if you have a click here that must have been an independent set in the graph there so ah so the observation is that g has a click I'm sorry an independent set in this case a click but an independent set G has an independent set of size k if and only if it's complement has a click of size k right yeah it goes so the reduction curve goes both ways if you have an independent set here you have a click there and if you have a click there you get an independent set here right and that gives us a reduction almost automatically because you can start with a possible instance of this problem which is a pair GK yeah you do not know if the graph has an independent set of size K or not so that's what you want to know but what the reduction says is that it it instead turns this into a new graph which is the complement of the original graph and keeps the parameter K the same right and now if this thing has a clique of size K that's exactly when this guy has a independent set of size okay so this is the reduction so this shows that independent set reduces to click and of course this reduction is polynomial time all you have to do is go through the adjacency Matrix for instance and just flip all the zeros to ones and ones to zeros or something so you flip all the edges and this gives you a polynomial time reduction okay does it make sense all right so that's independence at reducing to click let's also see that independent set reduces to vertex cover uh I think I can do it here the reduction is again very simple yeah and so and the reductions again based on an observation like this one like a simple observation like this one so what's a vertex cover so a Vertex cover is a set of vertices in the graph such that every Edge has at least one of its endpoints inside this vertex inside this set of vertices right yeah but that is the same thing as saying so so let us imagine that we have an abstract graph here so it's a graph so I have a Vertex cover so let us call it C so that means that every Edge must have at least one end point here it could be this way it could be this way what's not allowed is this thing that's not allowed yeah but that's the same as saying that the complement of the set is an independent set right that's just exactly the same as saying the complemental set is an independence yeah so vertex covers and independent sets are related closely related because vertex cover is exactly the complement of an independency so finding a small vertex cover is the same thing as finding a large independent set which is the complement of this set okay so just to repeat what is the property of being a Vertex cover that means that you don't have any Edge so it's a set of vertices such as no edge with both end points on the outside which is the same thing as saying that the outside is an independent set everything except for this cover is an independent set right so if you find a cover of size at most K you've also found an independent set of size the number of vertices minus k right because that's just a complement okay so let's say that you have a graph with n vertices then G has a an independent set of size k exactly when it has a Vertex cover of size n minus k okay because you can start with the vertex cover and it's complement as an independent set and you can have an independent set as complement is going to be a Vertex cover so they sort of again in one to one correspondence with each other yeah does this observation kind of make sense and that's it so that gives us a reduction right so you start with a pair a graph and a number K and you want to know if G has an independent set of size k and so this time you reduce to so you reduce to a pair the graph this time stays the same right because the same graph right it's just a parameter that changes so if the graph has an independent set of size at least K it has a Vertex cover of size at most the complex the size the complement which is n minus k okay so you just flip the parameter instead then the graph Remains the Same so the reduction of course this is again polynomial time all you have to do is change K to n minus K the graph Remains the Same so there's a polynomial time reduction and the reason this reduction works is because of this observation here you know independent set of size K if and only if you have vertex cover size okay it is make sense okay great so we reduced independent sets to clicks independent sets to vertex covers so now we're going to reduce sat to Independent set and that's going to sort of show that all of these sat reduces to all three of these problems showing that all of them are NP hard so let's just do that reduction and so it's a very simple but very beautiful and uh insightful reduction all right so let's do it so we're going to reduce let me remove okay okay so we're going to reduce three sat to um independent set okay okay just go to the appropriate slide so ah this is uh this slide tells you exactly what I did a couple of minutes ago where I showed that all of them are connected to each other let's now go to uh the slide that tell you what that tells you what I'm going to be doing now which is that three I want to show that three sat reduces to Independence so again what is threesat you're given a formula f it's a three CNF formula and now from this 3C and a formula you want to produce a pair a graph and a number k and you want it to be the case that the formula is satisfiable exactly when this graph has an independent set of size k right so just to recall so what's a three CNF formula right it's a collection of Clauses so let's just write down a collection of